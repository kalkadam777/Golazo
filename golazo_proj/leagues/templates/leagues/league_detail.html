{% extends "base.html" %}

{% block title %}{{ league.name }}{% endblock %}

{% block content %}
<h1>{{ league.name }}</h1>
{% if league.logo %}
    <img src="{{ league.logo.url }}" alt="{{ league.name }}" style="width: 150px; height: auto;">
{% endif %}
<p>Country: {{ league.country }}</p>
<p>Start Date: {{ league.start_date }}</p>
<p>End Date: {{ league.end_date }}</p>

<h2>Standings</h2>
<table class="table">
    <thead>
        <tr>
            <th>Club</th>
            <th>MP</th>
            <th>W</th>
            <th>D</th>
            <th>L</th>
            <th>GF</th>
            <th>GA</th>
            <th>Pts</th>
        </tr>
    </thead>
    <tbody>
        {% for standing in standings %}
        <tr>
            <td>{{ standing.club.name }}</td>
            <td>{{ standing.matches_played }}</td>
            <td>{{ standing.wins }}</td>
            <td>{{ standing.draws }}</td>
            <td>{{ standing.losses }}</td>
            <td>{{ standing.goals_scored }}</td>
            <td>{{ standing.goals_conceded }}</td>
            <td>{{ standing.points }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Matches</h2>
<ul class="list-group mb-3">
    {% for match in matches %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <span>
            {{ match.home_team.name }} 
            <strong>{{ match.home_team_score }} - {{ match.away_team_score }}</strong> 
            {{ match.away_team.name }}
            ({{ match.match_date|date:"d M Y" }})
        </span>
    </li>
    {% empty %}
    <li class="list-group-item">No matches yet.</li>
    {% endfor %}
</ul>

<div class="mt-4">


    {% if can_change_standings %}
        <a href="{% url 'update_standings' league.pk %}" class="btn btn-outline-secondary me-2">
            Update Standings
        </a>
        

    {% endif %}
</div>

{% endblock %}